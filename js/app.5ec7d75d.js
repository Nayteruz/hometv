(function(){"use strict";var e={6279:function(e,t,a){var n=a(5130),s=a(657),r={name:"intersection",mounted(e,t){const a={rootMargin:"0px",threshold:1},n=e=>{e[0].isIntersecting&&t.value.getMoreFilms()},s=new IntersectionObserver(n,a);s.observe(e)}};const o=function(e){document.title=e};var l={mounted:(e,t)=>o(t.value||e.innerText),beforeUpdate:(e,t)=>o(t.value||e.innerText),updated:(e,t)=>o(t.value||e.innerText)},i=a(6768),u=(a(8992),a(4520),a(1454),a(6400)),c=a(9675),d={apiKey:"AIzaSyDapqMH_oM7h6CDKM0laMGrLIlDVDyb_gY",authDomain:"hometv-c10f8.firebaseapp.com",projectId:"hometv-c10f8",storageBucket:"hometv-c10f8.appspot.com",messagingSenderId:"452296723769",appId:"1:452296723769:web:982a4288b9cf4e189bace8"};const v=(0,u.Wp)(d),p=(0,c.aU)(v);var m=a(393);const h=async function(e){const t=(0,c.H9)(p,"users",e),a=await(0,c.x7)(t);return a.exists()?a.data():null},f=async function(e,t){await(0,c.BN)((0,c.H9)(p,"users",t),{name:e.user_name||"",email:e.email||"",favorites:[],api_key:e.api_key||""})},g=function(e){switch(e){case"auth/wrong-password":return"Неверный пароль";case"auth/internal-error":return"Неизвестная ошибка";case"auth/invalid-email":return"Недопустимый email";case"auth/user-not-found":return"Пользователь не найден";case"auth/weak-password":return"Пароль не менее 6 символов";default:return"Ошибка авторизации"}},w=["","для взрослых","мюзикл","спорт","церемония","фильм-нуар","биография","вестерн","короткометражка","документальный","документальный","реальное ТВ","ток-шоу","концерт","игра","новости"];a(3949);const k="404dc583-7efc-4c93-8f21-a782f977b9e7",y="https://kinopoiskapiunofficial.tech/api/",L="TOP_POPULAR_ALL",_=`${y}v2.2/films`,C=`${y}v2.1/films`,I=async()=>{const e=await fetch(`${_}/filters`,{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});return await e.json()},b=async e=>{const t=await fetch(`${_}/${e}`,{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Error load film info");return await t.json()},E=async e=>{const t=await fetch(`${_}/${e}/similars`,{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Not found");return await t.json()},F=async e=>{const t=await fetch(`${C}/${e}/sequels_and_prequels`,{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Not found");return await t.json()},S=async(e=1)=>{const t=new URL(`${_}/collections`);t.searchParams.set("type",L),t.searchParams.set("page",e);const a=await fetch(t.toString(),{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Error load collections");return a.json()},A=async e=>{const t=new URL(_);Object.entries(e).forEach(([e,a])=>{t.searchParams.set(e,a)});const a=await fetch(t.toString(),{headers:{"X-API-KEY":k,"Content-Type":"application/json"}});return a.json()},X=(0,s.nY)("filmStore",{state:()=>({user:null,apiKey:"404dc583-7efc-4c93-8f21-a782f977b9e7",apiAloha:"e7b61f129f4a392ac4bf6726a9dd6a",apiHDBV:"8a22f8e7684404c3815e3ffa940f00a0",auth:(0,m.xI)(),errorMessage:"",pageNum:1,limit:20,genreIdStore:null,genreListStore:[],searchQueryStore:"",filters:null,filmPageId:0,favorites:[],currentFocusIndex:-1,films:[],focusIds:{},isShowLastSearchList:!1,lastSearchList:[],lastViews:[],unWatchIds:new Set}),getters:{filterGenres(){if(!this.genreListStore.length)return[];this.genreListStore=this.genreListStore.filter(e=>{if(-1===w.indexOf(e.genre))return e})},favoriteList(){return this.favorites}},actions:{setGenreId(e){this.genreIdStore=e},setFilmPageId(e){this.filmPageId=e},setShowLastSearchList(e){this.isShowLastSearchList=e},async getGenreList(){if(localStorage.getItem("genres"))return this.genreListStore=JSON.parse(localStorage.getItem("genres")),this.genreListStore;try{const e=await I();return this.filters=e,this.genreListStore=e.genres,this.filterGenres,localStorage.setItem("genres",JSON.stringify(this.genreListStore)),this.genreListStore}catch(e){console.error("Error load genres",e)}},checkIsFavorite(e){const t=new Map(this.favorites.map(e=>[Number(e?.kinopoiskId??e?.filmId),e]));return t.has(e)},async addFavorite(e){const t={...e,sortTime:Date.now()};try{const e=(0,c.H9)(p,"users",this.user.uid);await(0,c.mZ)(e,{favorites:[...this.favorites,t]})}catch(a){this.user?console.warn("Ошибка добавления в избранное: "+a):console.warn("Необходимо авторизоваться")}this.favorites=[...this.favorites,t]},async removeFavorite(e){const t=this.favorites.filter(t=>Number(t?.kinopoiskId??t?.filmId)!==Number(e));try{const e=(0,c.H9)(p,"users",this.user.uid);await(0,c.mZ)(e,{favorites:[...t]})}catch(a){this.user?console.warn("Ошибка удаления из избранного: "+a):console.warn("Необходимо авторизоваться")}this.favorites=[...t]},async addLastSearchList(e){if(!e)return;const t=this.lastSearchList.filter(t=>t.value.toLowerCase()!==e.toLowerCase());try{if(this.user){const a=(0,c.H9)(p,"users",this.user.uid),n=[{id:Date.now(),value:e},...t],s=n.length>30?n.slice(0,30):n;this.lastSearchList=s,await(0,c.mZ)(a,{lastSearchList:s})}}catch(a){console.error("Ошибка добавления в поиск: "+a)}},async addLastViews(e){if(!e)return;const t={...e,sortTime:Date.now()},a=this.lastViews.filter(t=>Number(t?.kinopoiskId??t?.filmId)!==Number(e?.kinopoiskId??e?.filmId));try{if(this.user){const e=(0,c.H9)(p,"users",this.user.uid),n=[t,...a],s=n.length>40?n.slice(0,40):n;this.lastViews=s,await(0,c.mZ)(e,{lastViews:s})}}catch(n){console.error("Ошибка добавления в последнее просмотренное: "+n)}},async addUnWatch(e){if(e)try{if(this.user){const t=(0,c.H9)(p,"users",this.user.uid);this.unWatchIds.add(e);const a=[...this.unWatchIds],n=a.length>100?a.slice(0,100):a;this.unWatchIds=new Set(n),await(0,c.mZ)(t,{unWatchIds:n})}}catch(t){console.error("Ошибка добавления в непросматриваемое: "+t)}},async removeUnWatch(e){if(e)try{if(this.user){const t=(0,c.H9)(p,"users",this.user.uid);this.unWatchIds.delete(e),await(0,c.mZ)(t,{unWatchIds:[...this.unWatchIds]})}}catch(t){console.error("Ошибка удаления из непросматриваемого: "+t)}},isUnWatch(e){return this.unWatchIds.has(e)},async authWithEmailAndPassword(e){await(0,m.x9)(this.auth,e.email,e.password).then(()=>{this.getUserData()}).catch(e=>{this.errorMessage=g(e.code)})},async createAuthWithEmailAndPassword(e){await(0,m.eJ)(this.auth,e.email,e.password).then(async t=>{this.user=await t.user,await f(e,this.user.uid),await this.getUserData()}).catch(e=>{this.errorMessage=g(e.code)})},async authLogout(){(0,m.CI)(this.auth).then(async()=>{this.removeUserData()}).catch(e=>{alert("Ошибка logout: "+e)})},async authChange(e){(0,m.hg)(this.auth,async t=>{t?(this.user=t,this.getUserData(e)):this.removeUserData(e)})},async getUserData(e){let t=await h(this.user.uid);this.user.name=t?.name||"",this.user.email=t?.email??"";const a=(t?.favorites??[]).sort((e,t)=>(t?.sortTime??0)-(e?.sortTime??0));this.favorites=a,this.lastSearchList=t?.lastSearchList||[];const n=(t?.lastViews??[]).sort((e,t)=>(t?.sortTime??0)-(e?.sortTime??0));this.lastViews=n,this.unWatchIds=new Set(t?.unWatchIds??[]),t?.api_key&&(this.apiKey=t.api_key),"function"===typeof e&&e()},removeUserData(e){this.user=null,this.favorites=[],"function"===typeof e&&e()},searchQueryWithGenre(){let e={};return this.searchQueryStore&&(e.q=this.searchQueryStore),this.genreIdStore&&(e.genres=this.genreIdStore),e},setCurrentFocus(e){this.currentFocusIndex=e},setFocusIds(e){this.focusIds={...this.focusIds,[e]:this.currentFocusIndex}},setMountedCurrentFocus(e){this.setCurrentFocus(this.focusIds[e])},async searchPageTitle(){let e=this.genreIdStore?await this.genreListStore.filter(e=>+e.id===+this.genreIdStore)[0].genre:null;return this.searchQueryStore&&this.genreIdStore?`Поиск по слову "${this.searchQueryStore}", жанр "${e}"`:this.searchQueryStore&&!this.genreIdStore?`Поиск по слову "${this.searchQueryStore}"`:this.genreIdStore&&!this.searchQueryStore?`Поиск по жанру "${e}"`:"Ничего не указано для поиска"}}});var R=a(4232);const x={class:"registration-wrap"},W={key:0,class:"registration-wrap--pop"};function P(e,t,a,n,s,r){const o=(0,i.g2)("IconUser"),l=(0,i.g2)("LogoutComponent"),u=(0,i.g2)("SignInComponent"),c=(0,i.g2)("RegistrationComponent");return(0,i.uX)(),(0,i.CE)("div",x,[(0,i.bF)(o,{onClick:n.togglePop},null,8,["onClick"]),n.isVisible?((0,i.uX)(),(0,i.CE)("div",W,[n.filmStore.user?((0,i.uX)(),(0,i.Wv)(l,{key:0,onSetForm:n.setForm},null,8,["onSetForm"])):"sign"===n.formView?((0,i.uX)(),(0,i.Wv)(u,{key:1,onSetForm:n.setForm},null,8,["onSetForm"])):"reg"===n.formView?((0,i.uX)(),(0,i.Wv)(c,{key:2,onSetForm:n.setForm},null,8,["onSetForm"])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])}const K={class:"icon icon-user"};function V(e,t){return(0,i.uX)(),(0,i.CE)("span",K,t[0]||(t[0]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},[(0,i.Lk)("path",{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"})],-1)]))}var N=a(1241);const M={},B=(0,N.A)(M,[["render",V],["__scopeId","data-v-794ceb96"]]);var Q=B,$=a(144);const z={class:"registration--form"},D={key:0,class:"err-string"},T={class:"btns"};function j(e,t,a,s,r,o){const l=(0,i.g2)("IconGoogle");return(0,i.uX)(),(0,i.CE)("div",z,[t[7]||(t[7]=(0,i.Lk)("h3",null,"Регистрация",-1)),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e)},null,512),[[n.Jo,s.email]])]),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"text",placeholder:"Name","onUpdate:modelValue":t[1]||(t[1]=e=>s.user_name=e)},null,512),[[n.Jo,s.user_name]])]),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"text",placeholder:"Api key","onUpdate:modelValue":t[2]||(t[2]=e=>s.api_key=e)},null,512),[[n.Jo,s.api_key]]),t[6]||(t[6]=(0,i.Lk)("small",null,[(0,i.Lk)("a",{href:"https://kinopoiskapiunofficial.tech/signup"},"зарегистрироваться")],-1))]),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e)},null,512),[[n.Jo,s.password]])]),s.filmStore.errorMessage?((0,i.uX)(),(0,i.CE)("p",D,(0,R.v_)(s.filmStore.errorMessage),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",T,[(0,i.Lk)("button",{class:"reg",onClick:t[4]||(t[4]=(0,n.D$)((...e)=>s.register&&s.register(...e),["prevent"]))},"Регистрация"),(0,i.Lk)("button",{class:"sign",onClick:t[5]||(t[5]=(0,n.D$)((...e)=>s.setFormView&&s.setFormView(...e),["prevent"]))},"Войти"),(0,i.bF)(l,{onClick:s.signWithGoogle},null,8,["onClick"])])])}const U={class:"icon-google"};function q(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("span",U)}var O={name:"IconGoogle"};const G=(0,N.A)(O,[["render",q],["__scopeId","data-v-551e6a5c"]]);var H=G,J={name:"RegistrationComponent",components:{IconGoogle:H},setup(e,{emit:t}){const a=X(),n=(0,$.KR)(""),s=(0,$.KR)(""),r=(0,$.KR)(""),o=(0,$.KR)("");async function l(){await a.createAuthWithEmailAndPassword({email:n.value,password:s.value,user_name:r.value,api_key:o.value})}function i(){t("setForm","sign")}function u(){console.warn("ok")}return{email:n,user_name:r,password:s,api_key:o,filmStore:a,register:l,signWithGoogle:u,setFormView:i}}};const Y=(0,N.A)(J,[["render",j],["__scopeId","data-v-6613323e"]]);var Z=Y;const ee={class:"registration--form"},te={key:0,class:"err-string"},ae={class:"btns"};function ne(e,t,a,s,r,o){return(0,i.uX)(),(0,i.CE)("div",ee,[t[4]||(t[4]=(0,i.Lk)("h3",{class:"name"},"Авторизация",-1)),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e)},null,512),[[n.Jo,s.email]])]),(0,i.Lk)("p",null,[(0,i.bo)((0,i.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e)},null,512),[[n.Jo,s.password]])]),s.filmStore.errorMessage?((0,i.uX)(),(0,i.CE)("p",te,(0,R.v_)(s.filmStore.errorMessage),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",ae,[(0,i.Lk)("button",{class:"sign",onClick:t[2]||(t[2]=(0,n.D$)((...e)=>s.signIn&&s.signIn(...e),["prevent"]))},"Войти"),(0,i.Lk)("button",{class:"reg",onClick:t[3]||(t[3]=(0,n.D$)((...e)=>s.setFormView&&s.setFormView(...e),["prevent"]))},"Регистрация")])])}var se={name:"SignInComponent",setup(e,{emit:t}){const a=(0,$.KR)(""),n=(0,$.KR)(""),s=(0,$.KR)(""),r=X();async function o(){await r.authWithEmailAndPassword({email:a.value,password:n.value})}function l(){t("setForm","reg")}return{email:a,password:n,errMsg:s,signIn:o,setFormView:l,filmStore:r}}};const re=(0,N.A)(se,[["render",ne],["__scopeId","data-v-0fd0095d"]]);var oe=re;const le={class:"registration--form"},ie={class:"btns"};function ue(e,t,a,s,r,o){return(0,i.uX)(),(0,i.CE)("div",le,[(0,i.Lk)("h3",null,[t[1]||(t[1]=(0,i.eW)(" Вы вошли как: ",-1)),(0,i.Lk)("strong",null,(0,R.v_)(s.filmStore.user.name),1)]),(0,i.Lk)("div",ie,[(0,i.Lk)("button",{class:"reg",onClick:t[0]||(t[0]=(0,n.D$)((...e)=>s.logout&&s.logout(...e),["prevent"]))},"Выйти")])])}var ce={name:"LogoutComponent",setup(){const e=X();async function t(){await e.authLogout()}return{logout:t,filmStore:e}}};const de=(0,N.A)(ce,[["render",ue]]);var ve=de,pe={name:"RegistrationWrap",components:{IconUser:Q,RegistrationComponent:Z,SignInComponent:oe,LogoutComponent:ve},setup(){const e=X(),t=(0,$.KR)(!1),a=(0,$.KR)("sign"),n=(0,i.WQ)("emitter");function s(){t.value=!t.value}function r(t){e.errorMessage="",a.value=t}function o(){n.emit("setUserData")}return(0,i.sV)(async()=>{await e.authChange(o),await n.emit("setUserData")}),{isVisible:t,setForm:r,togglePop:s,formView:a,filmStore:e}}};const me=(0,N.A)(pe,[["render",P],["__scopeId","data-v-6f42f5f8"]]);var he=me,fe=a(1387);const ge={viewBox:"0 0 576 512",xmlns:"http://www.w3.org/2000/svg"};function we(e,t){return(0,i.uX)(),(0,i.CE)("svg",ge,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},null,-1)]))}const ke={},ye=(0,N.A)(ke,[["render",we]]);var Le=ye;const _e=["type"];var Ce={__name:"ButtonBlue",props:{type:{type:String,default:"button"},class:{type:String,default:""},size:{type:Number,default:16},border:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,i.EW)(()=>({"--svg-size":`${t.size}px`}));return(e,n)=>((0,i.uX)(),(0,i.CE)("button",{style:(0,R.Tr)(a.value),type:t.type,class:(0,R.C4)(["button",t.class,{border:t.border}])},[(0,i.RG)(e.$slots,"default")],14,_e))}};const Ie=(0,N.A)(Ce,[["__scopeId","data-v-09181935"]]);var be=Ie,Ee={__name:"HomeButton",setup(e){const t=(0,fe.rd)(),a=X(),n=()=>{a.pageNum=1,a.genreIdStore=null,t.push({name:"home"})};return(e,t)=>((0,i.uX)(),(0,i.Wv)(be,{onClick:n,size:18},{default:(0,i.k6)(()=>[(0,i.bF)(Le),t[0]||(t[0]=(0,i.eW)("Home",-1))]),_:1,__:[0]}))}};const Fe=Ee;var Se=Fe;const Ae={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640"};function Xe(e,t){return(0,i.uX)(),(0,i.CE)("svg",Ae,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M96 160C96 124.7 124.7 96 160 96L480 96C515.3 96 544 124.7 544 160L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 160zM144 432L144 464C144 472.8 151.2 480 160 480L192 480C200.8 480 208 472.8 208 464L208 432C208 423.2 200.8 416 192 416L160 416C151.2 416 144 423.2 144 432zM448 416C439.2 416 432 423.2 432 432L432 464C432 472.8 439.2 480 448 480L480 480C488.8 480 496 472.8 496 464L496 432C496 423.2 488.8 416 480 416L448 416zM144 304L144 336C144 344.8 151.2 352 160 352L192 352C200.8 352 208 344.8 208 336L208 304C208 295.2 200.8 288 192 288L160 288C151.2 288 144 295.2 144 304zM448 288C439.2 288 432 295.2 432 304L432 336C432 344.8 439.2 352 448 352L480 352C488.8 352 496 344.8 496 336L496 304C496 295.2 488.8 288 480 288L448 288zM144 176L144 208C144 216.8 151.2 224 160 224L192 224C200.8 224 208 216.8 208 208L208 176C208 167.2 200.8 160 192 160L160 160C151.2 160 144 167.2 144 176zM448 160C439.2 160 432 167.2 432 176L432 208C432 216.8 439.2 224 448 224L480 224C488.8 224 496 216.8 496 208L496 176C496 167.2 488.8 160 480 160L448 160z"},null,-1)]))}const Re={},xe=(0,N.A)(Re,[["render",Xe]]);var We=xe,Pe={__name:"LastViewButton",setup(e){const t=(0,fe.rd)(),a=X(),n=()=>{a.pageNum=1,a.genreIdStore=null,t.push({name:"lastViews"})};return(e,t)=>((0,i.uX)(),(0,i.Wv)(be,{onClick:n,size:26},{default:(0,i.k6)(()=>[(0,i.bF)(We)]),_:1}))}};const Ke=Pe;var Ve=Ke;const Ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function Me(e,t){return(0,i.uX)(),(0,i.CE)("svg",Ne,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},null,-1)]))}const Be={},Qe=(0,N.A)(Be,[["render",Me]]);var $e=Qe,ze={__name:"FavoriteButton",setup(e){const t=(0,fe.rd)(),a=X(),n=(0,i.EW)(()=>a.favoriteList.length),s=(0,i.EW)(()=>null===a.user?"disabled":""),r=()=>{a.pageNum=1,a.genreIdStore=null,t.push({name:"favorite"})};return(e,t)=>((0,i.uX)(),(0,i.Wv)(be,{onClick:r,class:(0,R.C4)(s.value),size:18},{default:(0,i.k6)(()=>[(0,i.bF)($e),(0,i.eW)((0,R.v_)(n.value),1)]),_:1},8,["class"]))}};const De=(0,N.A)(ze,[["__scopeId","data-v-67c0d2ef"]]);var Te=De;const je={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function Ue(e,t){return(0,i.uX)(),(0,i.CE)("svg",je,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"},null,-1)]))}const qe={},Oe=(0,N.A)(qe,[["render",Ue]]);var Ge=Oe,He={__name:"ReloadButton",setup(e){const t=()=>{document.location.reload()};return(e,a)=>((0,i.uX)(),(0,i.Wv)(be,{onClick:t,size:20,class:"reload"},{default:(0,i.k6)(()=>[(0,i.bF)(Ge)]),_:1}))}};const Je=(0,N.A)(He,[["__scopeId","data-v-6be15f7e"]]);var Ye=Je,Ze={__name:"SearchPopup",setup(e){const t=X(),a=(0,fe.rd)(),n=e=>{t.pageNum=1,t.searchQueryStore=e,a.push({name:"searchPage",query:{q:t.searchQueryStore}}),t.setShowLastSearchList(!1)},s=()=>{t.setShowLastSearchList(!1)};return(e,a)=>(0,$.R1)(t).lastSearchList.length?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,R.C4)(["search-popup",{opened:(0,$.R1)(t).isShowLastSearchList}])},[(0,i.Lk)("button",{type:"button",class:"close-list",onClick:s},"×"),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,$.R1)(t).lastSearchList,e=>((0,i.uX)(),(0,i.CE)("li",{key:e.id},[(0,i.bF)(be,{onClick:t=>n(e.value)},{default:(0,i.k6)(()=>[(0,i.eW)((0,R.v_)(e.value),1)]),_:2},1032,["onClick"])]))),128))])],2)):(0,i.Q3)("",!0)}};const et=(0,N.A)(Ze,[["__scopeId","data-v-1c579bdd"]]);var tt=et;const at={class:"input-wrap"};var nt={__name:"SearchForm",props:{visibleSearch:{type:Boolean,default:!1}},setup(e){const t=e,a=(0,fe.lq)(),s=(0,fe.rd)(),r=X();(0,i.sV)(()=>{r.searchQueryStore=o.value});const o=(0,i.EW)(()=>a.query.q),l=(0,$.KR)(null),u=async()=>{r.addLastSearchList(r.searchQueryStore),r.pageNum=1,s.push({name:"searchPage",query:r.searchQueryWithGenre()}),r.setShowLastSearchList(!1)},c=()=>{r.setShowLastSearchList(!0)},d=()=>{r.searchQueryStore="",l.value.focus()};return(e,a)=>((0,i.uX)(),(0,i.CE)("form",{action:"#",class:(0,R.C4)(["search-form",{show:t.visibleSearch}]),onSubmit:(0,n.D$)(u,["prevent"])},[(0,i.Lk)("div",at,[(0,i.bo)((0,i.Lk)("input",{ref_key:"searchInput",ref:l,autocomplete:"off",type:"text",onKeyup:(0,n.jR)(u,["enter"]),onFocus:c,placeholder:"Название фильма / ID КиноПоиск","onUpdate:modelValue":a[0]||(a[0]=e=>(0,$.R1)(r).searchQueryStore=e),name:"keyword"},null,544),[[n.Jo,(0,$.R1)(r).searchQueryStore,void 0,{trim:!0}]]),(0,i.bF)(be,{class:(0,R.C4)(["clear-input",{show:(0,$.R1)(r).searchQueryStore}]),onClick:d},{default:(0,i.k6)(()=>a[1]||(a[1]=[(0,i.eW)("×",-1)])),_:1,__:[1]},8,["class"])]),(0,i.bF)(be,{type:"submit",border:!0},{default:(0,i.k6)(()=>a[2]||(a[2]=[(0,i.eW)("Найти",-1)])),_:1,__:[2]}),(0,i.bF)(tt)],34))}};const st=(0,N.A)(nt,[["__scopeId","data-v-28e310b9"]]);var rt=st;const ot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function lt(e,t){return(0,i.uX)(),(0,i.CE)("svg",ot,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"},null,-1)]))}const it={},ut=(0,N.A)(it,[["render",lt]]);var ct=ut;const dt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function vt(e,t){return(0,i.uX)(),(0,i.CE)("svg",dt,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"},null,-1)]))}const pt={},mt=(0,N.A)(pt,[["render",vt]]);var ht=mt,ft={__name:"HeaderFilm",setup(e){const t=(0,fe.lq)(),a=(0,i.EW)(()=>t.query.q),n=(0,$.KR)(!!(a.value|"searchPage"===t.name)),s=()=>{n.value=!n.value};return(e,t)=>((0,i.uX)(),(0,i.CE)("header",null,[(0,i.bF)(Se),(0,i.bF)(Ve),(0,i.bF)(Te),(0,i.bF)(rt,{visibleSearch:n.value},null,8,["visibleSearch"]),(0,i.bF)(he),(0,i.bF)(Ye),(0,i.bF)(be,{onClick:s,size:20,class:(0,R.C4)(["search-popup-btn",{opened:n.value}])},{default:(0,i.k6)(()=>[n.value?((0,i.uX)(),(0,i.Wv)(ht,{key:0})):((0,i.uX)(),(0,i.Wv)(ct,{key:1}))]),_:1},8,["class"])]))}};const gt=(0,N.A)(ft,[["__scopeId","data-v-1fdf4ce8"]]);var wt=gt;const kt={class:"genres-wrap"},yt={class:"genres"},Lt=["onClick"];var _t={__name:"GenreList",setup(e){const t=(0,fe.lq)(),a=(0,fe.rd)(),n=X(),s=(0,i.EW)(()=>t.query.genres),r=e=>{+n.genreIdStore===+e?n.genreIdStore=null:n.genreIdStore=e,n.pageNum=1,a.push({name:"searchPage",query:n.searchQueryWithGenre()})};async function o(){await n.getGenreList()}return(0,i.sV)(async()=>{n.genreIdStore=s.value,await o()}),(e,t)=>((0,i.uX)(),(0,i.CE)("div",kt,[(0,i.Lk)("ul",yt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,$.R1)(n).genreListStore,e=>((0,i.uX)(),(0,i.CE)("li",{class:(0,R.C4)({active:+e.id===+(0,$.R1)(n).genreIdStore}),key:e.id},[(0,i.Lk)("span",{onClick:t=>r(e.id)},(0,R.v_)(e.genre),9,Lt)],2))),128))])]))}};const Ct=(0,N.A)(_t,[["__scopeId","data-v-6439da14"]]);var It=Ct,bt={__name:"ToTop",setup(e){const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(e,a)=>((0,i.uX)(),(0,i.CE)("button",{class:"button",onClick:t}))}};const Et=(0,N.A)(bt,[["__scopeId","data-v-b96bf916"]]);var Ft=Et;const St={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft",Enter:"Enter",NumpadEnter:"Enter"},At={desktop:1024,tablet:768,mobile:480},Xt={Alloha:(e,t)=>`https://harald-as.newplayjj.com/?kp=${e}&token=${t}`,Collaps:e=>`https://api.atomics.ws/embed/kp/${e}`,VideoCDN:e=>`https://p.lumex.space/j3mqebEPqCLB?domain=nayteruz.github.io&kp_id=${e}`,HDVB:async(e,t)=>{const a=`https://apivb.com/api/videos.json?id_kp=${e}&token=${t}`;try{const e=await fetch(a),t=await e.json();if(Array.isArray(t)&&t.length>0&&t[0].iframe_url)return t[0].iframe_url}catch(n){console.error("HDVB error:",n)}return null},Kodik:e=>`https:////kodik.cc/find-player?kinopoiskID=${e}`,"Трейлер":e=>`https://api.atomics.ws/embed/trailer-kp/${e}`},Rt={MAIN:"Список последних новинок",LAST_VIEWS:"Последние просмотренные",FAVORITE:"Избранные фильмы/мультики и тд"};var xt={__name:"NavigationByKeys",setup(e){const t=(0,fe.rd)(),a=X(),n=(0,$.KR)(0),s=(0,$.KR)(a.films.length),r=(0,$.KR)(t.currentRoute.value.href||document.location.pathname),o=()=>{-1===a.currentFocusIndex?a.currentFocusIndex=0:a.currentFocusIndex=Math.min(s.value-1,a.currentFocusIndex+n.value)},l=()=>{a.currentFocusIndex=Math.max(0,a.currentFocusIndex-n.value)},u=()=>{a.currentFocusIndex=Math.min(s.value-1,a.currentFocusIndex+1)},c=()=>{a.currentFocusIndex=Math.max(0,a.currentFocusIndex-1)},d=()=>{const e=a.currentFocusIndex;if(-1===e)return;const n=a.films[e].filmId||a.films[e].kinopoiskId;t.push(`/film/${n}`)},v=e=>{switch(e.key){case St.ArrowDown:o();break;case St.ArrowUp:l();break;case St.ArrowRight:u();break;case St.ArrowLeft:c();break;case St.Enter:case St.NumpadEnter:d();break}},p=()=>{window.innerWidth>At.desktop?n.value=5:window.innerWidth>At.tablet?n.value=4:window.innerWidth>At.mobile?n.value=3:n.value=2};return(0,i.wB)(()=>a.films,e=>{s.value=e.length}),(0,i.sV)(()=>{window.removeEventListener("keydown",v),"filmPage"!==t.currentRoute.value.name&&(window.addEventListener("keydown",v),setTimeout(()=>{if("filmPage"!==t.currentRoute.value.name)if(0===window.scrollY){const e=t.currentRoute.value.href||document.location.pathname;a.focusIds={...a.focusIds,[e]:-1},a.currentFocusIndex=-1}else a.currentFocusIndex=a.focusIds[r.value]||-1},1),p())}),(0,i.xo)(()=>{window.removeEventListener("keydown",v),t.currentRoute.value&&(a.focusIds={...a.focusIds,[r.value]:a.currentFocusIndex})}),(e,t)=>((0,i.uX)(),(0,i.CE)("div"))}};const Wt=xt;var Pt=Wt;const Kt={class:"wrapper"};var Vt={__name:"App",setup(e){const t=X(),a=e=>{e.target.closest(".search-form")||t.setShowLastSearchList(!1)};return(0,i.sV)(()=>{document.addEventListener("click",a)}),(0,i.xo)(()=>{document.removeEventListener("click",a)}),(e,t)=>{const a=(0,i.g2)("RouterView");return(0,i.uX)(),(0,i.CE)("div",Kt,[((0,i.uX)(),(0,i.Wv)(wt,{key:e.$route.fullPath})),(0,i.bF)(It),(0,i.bF)(a,null,{default:(0,i.k6)(({Component:t})=>[((0,i.uX)(),(0,i.Wv)(i.PR,{include:"MainList"},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(t),{key:e.$route.fullPath}))],1024))]),_:1}),(0,i.bF)(Ft),((0,i.uX)(),(0,i.Wv)(Pt,{key:e.$route.fullPath}))])}}};const Nt=Vt;var Mt=Nt;const Bt={class:"favorite-icon"},Qt={key:0,class:"loading-round"};var $t={__name:"FavoriteActionButton",props:{filmId:Number},setup(e){const t=e,a=(0,$.KR)(!1),s=(0,$.KR)(!1),r=(0,i.WQ)("emitter"),o=X(),l=()=>{a.value=!!t.filmId&&o.checkIsFavorite(t.filmId)};async function u(){if(o.user){if(s.value=!0,a.value)await o.removeFavorite(t.filmId),a.value=!1;else{const e=await b(t.filmId);await o.addFavorite(await e),a.value=!0}s.value=!1}else alert("Необходима авторизация")}return(0,i.sV)(()=>{l()}),r.on("setUserData",l),(e,t)=>((0,i.uX)(),(0,i.CE)("span",Bt,[s.value?((0,i.uX)(),(0,i.CE)("span",Qt)):(0,i.Q3)("",!0),(0,i.bF)((0,$.R1)($e),{class:(0,R.C4)({active:a.value}),onClick:(0,n.D$)(u,["prevent"])},null,8,["class"])]))}};const zt=(0,N.A)($t,[["__scopeId","data-v-6a87ee95"]]);var Dt=zt;const Tt={xmlns:"http://www.w3.org/2000/svg","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 2 24 18"};function jt(e,t){return(0,i.uX)(),(0,i.CE)("svg",Tt,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M12.01 20c-5.065 0-9.586-4.211-12.01-8.424 2.418-4.103 6.943-7.576 12.01-7.576 5.135 0 9.635 3.453 11.999 7.564-2.241 4.43-6.726 8.436-11.999 8.436zm-10.842-8.416c.843 1.331 5.018 7.416 10.842 7.416 6.305 0 10.112-6.103 10.851-7.405-.772-1.198-4.606-6.595-10.851-6.595-6.116 0-10.025 5.355-10.842 6.584zm10.832-4.584c2.76 0 5 2.24 5 5s-2.24 5-5 5-5-2.24-5-5 2.24-5 5-5zm0 1c2.208 0 4 1.792 4 4s-1.792 4-4 4-4-1.792-4-4 1.792-4 4-4z"},null,-1)]))}const Ut={},qt=(0,N.A)(Ut,[["render",jt]]);var Ot=qt;const Gt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 2 24 22"};function Ht(e,t){return(0,i.uX)(),(0,i.CE)("svg",Gt,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M8.137 15.147c-.71-.857-1.146-1.947-1.146-3.147 0-2.76 2.241-5 5-5 1.201 0 2.291.435 3.148 1.145l1.897-1.897c-1.441-.738-3.122-1.248-5.035-1.248-6.115 0-10.025 5.355-10.842 6.584.529.834 2.379 3.527 5.113 5.428l1.865-1.865zm6.294-6.294c-.673-.53-1.515-.853-2.44-.853-2.207 0-4 1.792-4 4 0 .923.324 1.765.854 2.439l5.586-5.586zm7.56-6.146l-19.292 19.293-.708-.707 3.548-3.548c-2.298-1.612-4.234-3.885-5.548-6.169 2.418-4.103 6.943-7.576 12.01-7.576 2.065 0 4.021.566 5.782 1.501l3.501-3.501.707.707zm-2.465 3.879l-.734.734c2.236 1.619 3.628 3.604 4.061 4.274-.739 1.303-4.546 7.406-10.852 7.406-1.425 0-2.749-.368-3.951-.938l-.748.748c1.475.742 3.057 1.19 4.699 1.19 5.274 0 9.758-4.006 11.999-8.436-1.087-1.891-2.63-3.637-4.474-4.978zm-3.535 5.414c0-.554-.113-1.082-.317-1.562l.734-.734c.361.69.583 1.464.583 2.296 0 2.759-2.24 5-5 5-.832 0-1.604-.223-2.295-.583l.734-.735c.48.204 1.007.318 1.561.318 2.208 0 4-1.792 4-4z"},null,-1)]))}const Jt={},Yt=(0,N.A)(Jt,[["render",Ht]]);var Zt=Yt;const ea={class:"icon-wrapper"};var ta={__name:"WatchActionButton",props:{filmId:Number},setup(e){const t=e,a=X(),s=(0,i.EW)(()=>a.isUnWatch(t.filmId)),r=()=>{s.value?a.removeUnWatch(t.filmId):a.addUnWatch(t.filmId)};return(e,t)=>((0,i.uX)(),(0,i.CE)("span",ea,[s.value?((0,i.uX)(),(0,i.Wv)(Zt,{key:0,class:"unwatch",onClick:(0,n.D$)(r,["prevent"])})):((0,i.uX)(),(0,i.Wv)(Ot,{key:1,onClick:(0,n.D$)(r,["prevent"])}))]))}};const aa=(0,N.A)(ta,[["__scopeId","data-v-6f5971a5"]]);var na=aa;const sa={height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg"};function ra(e,t){return(0,i.uX)(),(0,i.CE)("svg",sa,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z",class:"star"},null,-1)]))}const oa={},la=(0,N.A)(oa,[["render",ra]]);var ia=la;const ua=e=>{const t=e?.nameRu||e?.nameEn||e?.nameOriginal||"Без названия",a=e?.year||"";return`${t} ${a?`(${a})`:""}`},ca=e=>{const t=e?.rating||e?.ratingKinopoisk||e?.ratingImdb;return"number"===typeof t?t.toFixed(1):"∞"},da={key:0,class:"rating"};var va={__name:"FilmRating",props:{filmInfo:Object,isRating:{type:Boolean,default:!0}},setup(e){const t=e,a=(0,i.EW)(()=>ca(t.filmInfo));return(t,n)=>e.isRating?((0,i.uX)(),(0,i.CE)("span",da,[(0,i.bF)(ia,{class:"star"}),(0,i.eW)((0,R.v_)(a.value),1)])):(0,i.Q3)("",!0)}};const pa=(0,N.A)(va,[["__scopeId","data-v-f724966e"]]);var ma=pa;const ha=["href"],fa={class:"icon-actions"},ga={class:"image-wrapper"},wa=["src","alt"],ka={class:"name-wrapper"};var ya={__name:"FilmItemItem",props:{itemFilm:Object,currentIndex:Number,isRating:{type:Boolean,default:!0}},setup(e){const t=e,a=(0,fe.rd)(),s=X(),r=(0,$.KR)(null),o=(0,i.EW)(()=>t.currentIndex===s.currentFocusIndex),l=(0,i.EW)(()=>ua(t.itemFilm)),u=(0,$.KR)(!1),c=t.itemFilm.filmId||t.itemFilm.kinopoiskId,d=(0,i.EW)(()=>s.isUnWatch(c)),v=()=>{a.push(`/film/${c}`)},p=()=>{u.value=!0},m=()=>{u.value=!1};return(0,i.wB)(o,()=>{if(o.value&&r.value){const e=r.value.getBoundingClientRect(),t=document.documentElement.scrollTop,a=t+window.innerHeight,n=e.bottom+t;(e.top<0||n>a)&&window.scrollTo(0,t+e.top-80)}}),(a,s)=>((0,i.uX)(),(0,i.CE)("li",{class:(0,R.C4)(["card",{focused:o.value|u.value,unwatch:d.value}]),onMouseover:p,onMouseleave:m,tabindex:"0",ref_key:"itemRef",ref:r},[(0,i.Lk)("a",{href:`/film/${(0,$.R1)(c)}`,class:"card-link",onClick:(0,n.D$)(v,["prevent"])},null,8,ha),(0,i.Lk)("div",fa,[(0,i.bF)(Dt,{class:"favorite",filmId:(0,$.R1)(c)},null,8,["filmId"]),(0,i.bF)(na,{class:"watch",filmId:(0,$.R1)(c)},null,8,["filmId"]),(0,i.bF)(ma,{filmInfo:t.itemFilm,isRating:t.isRating,class:"rating"},null,8,["filmInfo","isRating"])]),(0,i.Lk)("div",ga,[s[0]||(s[0]=(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"360",height:"540"},null,-1)),(0,i.Lk)("img",{src:e.itemFilm.posterUrlPreview,alt:t.itemFilm.nameRu},null,8,wa)]),(0,i.Lk)("div",ka,[(0,i.Lk)("h3",null,(0,R.v_)(l.value),1)])],34))}};const La=(0,N.A)(ya,[["__scopeId","data-v-609e451a"]]);var _a=La;function Ca(e,t){return(0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(20,e=>(0,i.Lk)("li",{class:"films__item preload-card",key:e},t[0]||(t[0]=[(0,i.Lk)("div",{class:"item__image"},[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"360",height:"540"})],-1)]))),64)}const Ia={},ba=(0,N.A)(Ia,[["render",Ca],["__scopeId","data-v-49ec1bc1"]]);var Ea=ba;const Fa={class:"films__list"};var Sa={__name:"FilmList",props:{showPreload:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},isRating:{type:Boolean,default:!0}},setup(e){const t=X(),a=(0,i.WQ)("emitter"),n=e,s=(0,$.KR)(!1);return a.on("isLoading",e=>{s.value=e}),(0,i.sV)(()=>{t.hasFilmList=!0}),(0,i.xo)(()=>{t.hasFilmList=!1}),(e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:(0,R.C4)(["films__wrap",{loading:s.value}])},[(0,i.Lk)("ul",Fa,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.items,(e,t)=>((0,i.uX)(),(0,i.Wv)(_a,{itemFilm:e,key:e.filmId||e.kinopoiskId,currentIndex:t,isRating:n.isRating},null,8,["itemFilm","currentIndex","isRating"]))),128)),n.showPreload?((0,i.uX)(),(0,i.Wv)(Ea,{key:0})):(0,i.Q3)("",!0)])],2))}};const Aa=(0,N.A)(Sa,[["__scopeId","data-v-51f91dfc"]]);var Xa=Aa;const Ra={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"};function xa(e,t){return(0,i.uX)(),(0,i.CE)("svg",Ra,t[0]||(t[0]=[(0,i.Lk)("path",{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"},null,-1)]))}const Wa={},Pa=(0,N.A)(Wa,[["render",xa],["__scopeId","data-v-612e1afa"]]);var Ka=Pa;const Va={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function Na(e,t){return(0,i.uX)(),(0,i.CE)("svg",Va,t[0]||(t[0]=[(0,i.Lk)("path",{d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"},null,-1)]))}const Ma={},Ba=(0,N.A)(Ma,[["render",Na],["__scopeId","data-v-f7c13d10"]]);var Qa=Ba;const $a={class:"pagination"},za=["onClick"];var Da={__name:"PaginationList",props:["total"],setup(e){const t=X(),a=(0,i.WQ)("emitter"),s=(0,i.EW)(()=>t.pageNum),r=e,o=e=>{let t=[];if(r.total>6){if(1===s.value)return[1,2,3,"...",e];if(s.value>1&&s.value<3)return[1,2,3,"...",e];if(3===s.value)return[1,2,3,4,"...",e];if(s.value>3&&s.value<e-2)return[1,"...",s.value-1,s.value,s.value+1,"...",e];if(s.value===e-2)return[1,"...",s.value-1,s.value,s.value+1,e];if(s.value===e-1)return[1,"...",s.value-1,s.value,e];if(s.value===e)return[1,"...",s.value-2,s.value-1,e]}else for(let a=1;a<=e;a++)t.push(a);return t},l=(e,n="")=>{if("..."===e)return;let s;s="prev"===n?t.pageNum-1:"next"===n?t.pageNum+1:"prevAll"===n?1:"nextAll"===n?r.total:e,t.pageNum=s,a.emit("clickPage",s)};return(a,s)=>((0,i.uX)(),(0,i.CE)("div",$a,[(0,i.Lk)("ul",null,[(0,i.bo)((0,i.Lk)("li",{class:"pg first",onClick:s[0]||(s[0]=e=>l(null,"prevAll"))},[(0,i.Lk)("span",null,[(0,i.bF)(Qa)])],512),[[n.aG,(0,$.R1)(t).pageNum>1]]),(0,i.bo)((0,i.Lk)("li",{class:"pg prev",onClick:s[1]||(s[1]=e=>l(null,"prev"))},[(0,i.Lk)("span",null,[(0,i.bF)(Ka)])],512),[[n.aG,(0,$.R1)(t).pageNum>1]]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o(e.total),e=>((0,i.uX)(),(0,i.CE)("li",{key:e},[(0,i.Lk)("span",{class:(0,R.C4)({active:(0,$.R1)(t).pageNum===e}),onClick:t=>l(e)},(0,R.v_)(e),11,za)]))),128)),(0,i.bo)((0,i.Lk)("li",{class:"pg next",onClick:s[2]||(s[2]=e=>l(null,"next"))},[(0,i.Lk)("span",null,[(0,i.bF)(Ka)])],512),[[n.aG,(0,$.R1)(t).pageNum<r.total]]),(0,i.bo)((0,i.Lk)("li",{class:"pg last",onClick:s[3]||(s[3]=e=>l(null,"nextAll"))},[(0,i.Lk)("span",null,[(0,i.bF)(Qa)])],512),[[n.aG,(0,$.R1)(t).pageNum<r.total]])])]))}};const Ta=(0,N.A)(Da,[["__scopeId","data-v-faa389fa"]]);var ja=Ta;const Ua={class:"list"},qa={key:0,ref:"observer",class:"observer"};var Oa={__name:"MainList",setup(e){const t=X(),a=(0,i.WQ)("emitter"),n=(0,fe.rd)(),s=(0,$.KR)([]),r=(0,$.KR)(0),o=(0,$.KR)(!1),l=async()=>{try{return S(t.pageNum)}catch(e){console.error("Error load films",e)}};async function u(e,n=""){"loading"===n&&a.emit("isLoading",!0),o.value="preload"===n,t.pageNum=e||t.pageNum;const i=await l();r.value=i.totalPages,"preload"===n?s.value=[...s.value,...i.items]:(s.value=[],s.value=i.items),o.value=!1,"loading"===n&&await i.items&&a.emit("isLoading",!1)}function c(){u(t.pageNum+1,"preload")}function d(){u(t.pageNum,"loading")}return a.on("clickPage",d),(0,i.wB)(()=>s.value,()=>{t.films=s.value}),(0,i.wB)(()=>n.currentRoute.value.href,()=>{t.films=s.value}),(0,i.sV)(()=>{u()}),(e,a)=>{const n=(0,i.gN)("title"),l=(0,i.gN)("intersection");return(0,i.uX)(),(0,i.CE)("div",Ua,[(0,i.bo)(((0,i.uX)(),(0,i.CE)("h1",null,[(0,i.eW)((0,R.v_)((0,$.R1)(Rt).MAIN),1)])),[[n]]),(0,i.bF)(ja,{total:r.value},null,8,["total"]),(0,i.bF)(Xa,{items:s.value,showPreload:o.value},null,8,["items","showPreload"]),(0,i.bF)(ja,{total:r.value},null,8,["total"]),(0,$.R1)(t).pageNum<r.value?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",qa,null,512)),[[l,{getMoreFilms:c}]]):(0,i.Q3)("",!0)])}}};const Ga=(0,N.A)(Oa,[["__scopeId","data-v-7f6a9bab"]]);var Ha=Ga;const Ja={class:"kinobox_player film__init",ref:"player_init_item"};function Ya(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",Ja,null,512)])}var Za={name:"FilmKinoBoxTab",setup(){const e=X(),t=(0,fe.lq)(),a=(0,$.KR)(null);function n(a){e.setFilmPageId(t.params.id);let n=document.createElement("script");n.type="text/javascript",n.src="//kinobox.tv/kinobox.min.js",a.value.appendChild(n),setTimeout(()=>{new Kinobox(".kinobox_player",{search:{kinopoisk:t.params.id}}).init()},1e3)}return(0,i.sV)(()=>{n(a)}),{player_init_item:a}}};const en=(0,N.A)(Za,[["render",Ya]]);var tn=en;const an=["src"];function nn(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("iframe",{src:`//496622434375553.svetacdn.in/fcvcbl7auqJG?kp_id=${n.filmId}`,width:"100%",height:"495",allowfullscreen:""},null,8,an)])}var sn={name:"FilmPlayerClub",setup(){const e=(0,fe.lq)(),t=e.params.id;return{filmId:t}}};const rn=(0,N.A)(sn,[["render",nn],["__scopeId","data-v-10c8c156"]]);var on=rn;const ln={class:"film__init",ref:"player_init_item"};function un(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",ln,null,512)])}var cn={name:"FilmKinoTopTab",setup(){const e=(0,fe.lq)(),t=(0,$.KR)(null);function a(t){t.value.innerHTML="";let a=document.createElement("div");a.setAttribute("data-kinopoisk",e.params.id),a.setAttribute("id","kinoplayertop");let n=document.createElement("script");n.type="text/javascript",n.src="//kinoplayer.top/top.js",t.value.appendChild(a),t.value.appendChild(n),setTimeout(()=>{runKinoplayertop()},500)}return(0,i.sV)(()=>{a(t)}),{player_init_item:t}}};const dn=(0,N.A)(cn,[["render",un]]);var vn=dn;const pn={ref:"playerContainer"};function mn(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",pn,null,512)])}var hn={name:"FilmKinoBD",setup(){const e=X(),t=(0,fe.lq)(),a=t.params.id,n=(0,$.KR)(null);let s=null;function r(){e.setFilmPageId(a),n.value.innerHTML=`\n          <div data-kinopoisk="${a}" id="kinobd"></div>\n        `,s=document.createElement("script"),s.src="https://kinobd.net/js/player_.js",s.async=!0,s.onerror=()=>console.error("Failed to load player script"),document.body.appendChild(s)}function o(){s&&document.body.contains(s)&&document.body.removeChild(s),n.value&&(n.value.innerHTML="")}return(0,i.sV)(()=>{n.value&&r()}),(0,i.xo)(()=>{o()}),{playerContainer:n,filmId:a}}};const fn=(0,N.A)(hn,[["render",mn]]);var gn=fn;const wn={class:"player-container"},kn={class:"player-select"},yn={class:"player-name-list"},Ln=["onClick"],_n={ref:"playerList",class:"player-list"},Cn={key:0},In=["src","title"],bn={key:1};function En(e,t,a,n,s,r){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",wn,[(0,i.Lk)("div",kn,[(0,i.Lk)("div",yn,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.playerNames,(e,t)=>((0,i.uX)(),(0,i.CE)("button",{key:e,class:(0,R.C4)({"select-button":!0,active:t===n.selectedIndex}),onClick:e=>n.selectPlayer(t)},(0,R.v_)(e),11,Ln))),128))])]),(0,i.Lk)("div",_n,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.playersData,(e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.name,class:(0,R.C4)({"player-item":!0,active:t===n.selectedIndex})},[t===n.selectedIndex?((0,i.uX)(),(0,i.CE)("div",Cn,[e.iframeSrc?((0,i.uX)(),(0,i.CE)("iframe",{key:0,src:e.iframeSrc,allowfullscreen:"",loading:"lazy",title:`Плеер ${e.name} для КиноПоиск ID ${n.filmId}`},null,8,In)):((0,i.uX)(),(0,i.CE)("div",bn,"Загрузка плеера..."))])):(0,i.Q3)("",!0)],2))),128))],512)])])}var Fn={name:"PlayersList",setup(){const e=X(),t=(0,fe.lq)(),a=t.params.id,n=(0,$.KR)(null),s=(0,$.KR)(-1),r=Object.keys(Xt),o=(0,$.KR)([]),l=e=>{s.value=e};async function u(){e.setFilmPageId(a);const t=await Promise.all(Object.entries(Xt).map(async([t,n])=>{let s=e.apiKey;"Alloha"===t&&(s=e.apiAloha),"HDVB"===t&&(s=e.apiHDBV),"Alloha"!==t&&"HDVB"!==t&&(s=void 0);let r="function"===typeof n?await n(a,s):null;return{name:t,iframeSrc:r}}));o.value=t.filter(e=>e.iframeSrc),o.value.length>0&&(s.value=0)}return(0,i.sV)(()=>{n.value&&u()}),{filmId:a,playerNames:r,selectedIndex:s,selectPlayer:l,playerList:n,playersData:o}}};const Sn=(0,N.A)(Fn,[["render",En],["__scopeId","data-v-25239ed7"]]);var An=Sn;const Xn={class:"tab-titles"};var Rn={__name:"FilmPlayerSelect",setup(e){const t=(0,$.KR)(0);return(e,a)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("ul",Xn,[(0,i.Lk)("li",{class:(0,R.C4)({selected:1===t.value}),onClick:a[0]||(a[0]=e=>t.value=1)}," Multiple ",2),(0,i.Lk)("li",{class:(0,R.C4)({selected:2===t.value}),onClick:a[1]||(a[1]=e=>t.value=2)}," Kinotop ",2),(0,i.Lk)("li",{class:(0,R.C4)({selected:4===t.value}),onClick:a[2]||(a[2]=e=>t.value=4)}," KinoBox ",2),(0,i.Lk)("li",{class:(0,R.C4)({selected:5===t.value}),onClick:a[3]||(a[3]=e=>t.value=5)},"Lumex",2)]),1===t.value?((0,i.uX)(),(0,i.Wv)(An,{key:0})):(0,i.Q3)("",!0),2===t.value?((0,i.uX)(),(0,i.Wv)(vn,{key:1})):(0,i.Q3)("",!0),3===t.value?((0,i.uX)(),(0,i.Wv)(gn,{key:2})):(0,i.Q3)("",!0),4===t.value?((0,i.uX)(),(0,i.Wv)(tn,{key:3})):(0,i.Q3)("",!0),5===t.value?((0,i.uX)(),(0,i.Wv)(on,{key:4})):(0,i.Q3)("",!0)],64))}};const xn=(0,N.A)(Rn,[["__scopeId","data-v-73efed58"]]);var Wn=xn;const Pn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function Kn(e,t){return(0,i.uX)(),(0,i.CE)("svg",Pn,t[0]||(t[0]=[(0,i.Lk)("path",{fill:"currentColor",d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const Vn={},Nn=(0,N.A)(Vn,[["render",Kn]]);var Mn=Nn,Bn={__name:"ButtonBack",setup(e){const t=(0,fe.rd)(),a=()=>{t.go(-1)};return(e,t)=>((0,i.uX)(),(0,i.Wv)(be,{onClick:a,size:18,class:"back"},{default:(0,i.k6)(()=>[(0,i.bF)(Mn),t[0]||(t[0]=(0,i.eW)("Назад",-1))]),_:1,__:[0]}))}};const Qn=(0,N.A)(Bn,[["__scopeId","data-v-51ff8e32"]]);var $n=Qn;const zn={class:"image"},Dn={class:"icon-actions"},Tn=["src"];var jn={__name:"FilmImage",props:{filmInfo:Object},setup(e){const t=e,a=(0,i.EW)(()=>t.filmInfo),n=(0,i.EW)(()=>t.filmInfo?.kinopoiskId??t.filmInfo?.filmId);return(e,s)=>((0,i.uX)(),(0,i.CE)("div",zn,[(0,i.Lk)("div",Dn,[(0,i.bF)(Dt,{class:"favorite",filmId:n.value},null,8,["filmId"]),(0,i.bF)(na,{class:"watch",filmId:n.value},null,8,["filmId"]),(0,i.bF)(ma,{filmInfo:t.filmInfo,class:"rating"},null,8,["filmInfo"])]),a.value?.posterUrl?((0,i.uX)(),(0,i.CE)("img",{key:0,src:a.value?.posterUrl,alt:"filmTitle"},null,8,Tn)):(0,i.Q3)("",!0)]))}};const Un=(0,N.A)(jn,[["__scopeId","data-v-208e99cb"]]);var qn=Un;const On={class:"genres"},Gn=["onClick"];var Hn={__name:"FilmGenres",props:{genres:Array,title:String},setup(e){const t=(0,fe.rd)(),a=e,n=(0,i.EW)(()=>a.genres.map(e=>e.genre)),s=e=>{const a=JSON.parse(localStorage.getItem("genres")),n=a.filter(t=>t.genre===e)[0].id;window.scrollTo(0,0),t.push({name:"searchPage",query:{genres:n}})};return(e,t)=>((0,i.uX)(),(0,i.CE)("div",On,[(0,i.Lk)("h3",null,(0,R.v_)(a.title),1),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.value,e=>((0,i.uX)(),(0,i.CE)("li",{key:e},[(0,i.Lk)("span",{onClick:t=>s(e)},(0,R.v_)(e),9,Gn)]))),128))])]))}};const Jn=(0,N.A)(Hn,[["__scopeId","data-v-4914205a"]]);var Yn=Jn;const Zn={class:"film__wrap"},es={class:"film__note"},ts={class:"film__btns"},as={class:"film__description"},ns={key:0,class:"film__similar"};var ss={__name:"FilmPage",setup(e){const t=X(),a=(0,fe.lq)(),n=(0,$.KR)([]),s=(0,$.KR)([]),r=(0,i.EW)(()=>ua(n.value)),o=async()=>{try{const e=b(a.params.id);n.value=await e,setTimeout(t.addLastViews,2e3,await e)}catch(e){console.error("Error load film info",e),n.value=[]}},l=async()=>{try{const e=await E(a.params.id),t=e.items||[];s.value=t}catch(e){console.error("Error load similars",e),s.value=[]}},u=async()=>{try{const e=await F(a.params.id),t=e.items||[];s.value=[...t,...s.value]}catch(e){console.error("Error load sequels and prequels",e)}},c=(0,i.EW)(()=>t.isUnWatch(n.value?.kinopoiskId??n.value?.filmId));return(0,i.sV)(()=>{o(),l(),u()}),(e,t)=>{const a=(0,i.gN)("title");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)($n),(0,i.bo)(((0,i.uX)(),(0,i.CE)("h1",null,[(0,i.eW)((0,R.v_)(r.value),1)])),[[a]]),(0,i.Lk)("div",Zn,[(0,i.bF)(qn,{filmInfo:n.value,class:(0,R.C4)({unwatch:c.value})},null,8,["filmInfo","class"]),(0,i.Lk)("div",es,[(0,i.Lk)("div",ts,[(0,i.bF)(Wn)]),(0,i.Lk)("div",as,[t[0]||(t[0]=(0,i.Lk)("h3",null,"Описание:",-1)),(0,i.eW)(" "+(0,R.v_)(n.value.description),1)]),(0,i.bF)(Yn,{genres:n.value.genres||[],title:"Жанры"},null,8,["genres"]),s.value.length>0?((0,i.uX)(),(0,i.CE)("div",ns,[t[1]||(t[1]=(0,i.Lk)("h3",null,"Похожие фильмы",-1)),(0,i.bF)(Xa,{items:s.value,isRating:!1},null,8,["items"])])):(0,i.Q3)("",!0)])])],64)}}};const rs=(0,N.A)(ss,[["__scopeId","data-v-2f07bfcf"]]);var os=rs;const ls={class:"list"},is={key:0,ref:"observer",class:"observer"};var us={__name:"SearchPage",setup(e){const t=(0,fe.lq)(),a=(0,$.KR)([]),n=(0,i.WQ)("emitter"),s=X(),r=(0,$.KR)(0),o=(0,$.KR)(!1),l=(0,i.EW)(()=>t.query.q),u=(0,i.EW)(()=>t.query.genres),c=(0,$.KR)(""),d=async()=>{const e={};s.searchQueryStore&&(e.keyword=s.searchQueryStore),s.genreIdStore&&(e.genres=s.genreIdStore),s.pageNum&&(e.page=s.pageNum);try{return A(e)}catch(t){console.error("Error load films",t)}},v=async(e=!1,t)=>{if(s.pageNum=t||s.pageNum,s.genreIdStore||s.searchQueryStore||e){o.value=!0;const t=await d();r.value=t.totalPages,e?a.value=[...a.value,...t.items]:(a.value=[],a.value=t.items),o.value=!1}},p=()=>{v(!0,s.pageNum+1)},m=()=>{v(!1,s.pageNum)};return n.on("clickPage",m),(0,i.sV)(async()=>{s.searchQueryStore=l.value,s.genreIdStore=u.value,await v(!1,1),n.on("searchSubmit",()=>{v(!1,1)}),c.value=await s.searchPageTitle()}),(e,t)=>{const n=(0,i.gN)("title"),l=(0,i.gN)("intersection");return(0,i.uX)(),(0,i.CE)("div",ls,[(0,i.bo)(((0,i.uX)(),(0,i.CE)("h1",null,[(0,i.eW)((0,R.v_)(c.value),1)])),[[n]]),(0,i.bF)(ja,{total:r.value,onClickPage:v},null,8,["total"]),(0,i.bF)(Xa,{items:a.value,showPreload:o.value},null,8,["items","showPreload"]),(0,i.bF)(ja,{total:r.value,onClickPage:v},null,8,["total"]),(0,$.R1)(s).pageNum<r.value?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",is,null,512)),[[l,{getMoreFilms:p}]]):(0,i.Q3)("",!0)])}}};const cs=(0,N.A)(us,[["__scopeId","data-v-f387f304"]]);var ds=cs;function vs(e,t){const a=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)(i.FK,null,[t[2]||(t[2]=(0,i.Lk)("h1",null,"Страница не найдена",-1)),(0,i.Lk)("p",null,[t[1]||(t[1]=(0,i.eW)("Перейти на ",-1)),(0,i.bF)(a,{to:"/"},{default:(0,i.k6)(()=>t[0]||(t[0]=[(0,i.eW)("главную",-1)])),_:1,__:[0]})]),t[3]||(t[3]=(0,i.Lk)("br",null,null,-1))],64)}const ps={},ms=(0,N.A)(ps,[["render",vs],["__scopeId","data-v-4dcde004"]]);var hs=ms;const fs={class:"list"},gs={key:0};var ws={__name:"FavoritePage",setup(e){const t=X(),a=(0,$.KR)(!1);return(0,i.wB)(()=>t.favorites,()=>{t.films=t.favorites}),(e,n)=>((0,i.uX)(),(0,i.CE)("div",fs,[(0,i.Lk)("h1",null,(0,R.v_)((0,$.R1)(Rt).FAVORITE),1),(0,i.bF)(Xa,{items:(0,$.R1)(t).favoriteList,showPreload:a.value},null,8,["items","showPreload"]),0===(0,$.R1)(t).favorites.length?((0,i.uX)(),(0,i.CE)("h3",gs,"Список пуст")):(0,i.Q3)("",!0)]))}};const ks=(0,N.A)(ws,[["__scopeId","data-v-107abd2e"]]);var ys=ks;const Ls={class:"list"},_s={key:0};var Cs={__name:"LastViews",setup(e){const t=X(),a=(0,$.KR)(!1);return(e,n)=>((0,i.uX)(),(0,i.CE)("div",Ls,[(0,i.Lk)("h1",null,(0,R.v_)((0,$.R1)(Rt).LAST_VIEWS),1),(0,i.bF)(Xa,{items:(0,$.R1)(t).lastViews,showPreload:a.value},null,8,["items","showPreload"]),0===(0,$.R1)(t).lastViews.length?((0,i.uX)(),(0,i.CE)("h3",_s,"Список пуст")):(0,i.Q3)("",!0)]))}};const Is=(0,N.A)(Cs,[["__scopeId","data-v-d24f030c"]]);var bs=Is;const Es=(0,fe.aE)({history:(0,fe.LA)("/hometv"),routes:[{path:"/",name:"home",component:Ha},{path:"/film/:id",name:"filmPage",component:os},{path:"/search",name:"searchPage",component:ds},{path:"/favorites",name:"favorite",component:ys},{path:"/last-views",name:"lastViews",component:bs},{path:"/:pathMatch(.*)*",component:hs}]});var Fs=Es,Ss=a(595),As=a(4458);(0,As.k)("/hometv/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const Xs=(0,Ss.A)(),Rs=(0,n.Ef)(Mt);Rs.directive("intersection",r),Rs.directive("title",l),Rs.use((0,s.Ey)()),Rs.use(Fs),Rs.provide("emitter",Xs),Rs.mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],r=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every(function(e){return a.O[e](n[i])})?n.splice(i--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,o=n[0],l=n[1],i=n[2],u=0;if(o.some(function(t){return 0!==e[t]})){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var c=i(a)}for(t&&t(n);u<o.length;u++)r=o[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=self["webpackChunkhomefilmtv"]=self["webpackChunkhomefilmtv"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(6279)});n=a.O(n)})();
//# sourceMappingURL=app.5ec7d75d.js.map